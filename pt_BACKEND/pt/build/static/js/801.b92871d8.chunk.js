"use strict";(self.webpackChunkpt_frontend=self.webpackChunkpt_frontend||[]).push([[801],{1801:function(e,n,i){i.r(n),i.d(n,{default:function(){return Y}});var t=i(2982),o=i(1413),r=i(885),l=i(260),d=i(3395),s=i(9861),a=i(5130),c=i(720),x=i(3400),u=i(890),p=i(5527),h=i(3767),f=i(6151),v=i(4082),g=i(7047),j=i(3239),m=i(9836),Z=i(3382),b=i(3994),y=i(9281),C=i(6890),S=i(5855),w=(0,i(3814).Z)(),k=i(3263),_=i(2791),A=i(9271),F=i(6152),z=i(8239),B=i(1838),R=i(493),T=i(5021),P=i(6278),E=i(9900),I=i(3385),G=i(184),W=function(e){var n=e.children,i=e.data,t=(0,A.k6)(),o=function(){localStorage.setItem("PTNo",i),t.push("/mb-forecasting")},r=function(){localStorage.setItem("PTNo",i),t.push("/sub-assembly")};return(0,G.jsx)(B.Z,{title:(0,G.jsx)("div",{style:{backgroundColor:"#fff",color:"#000",margin:"-5px -8px",boxShadow:"#0000005f 0px 1px 12px",borderRadius:"5px",fontWeight:"600"},children:(0,G.jsxs)(R.Z,{dense:!0,children:[(0,G.jsx)(T.ZP,{disablePadding:!0,secondaryAction:(0,G.jsx)(x.Z,{edge:"end","aria-label":"forward",onClick:function(){return o()},children:(0,G.jsx)(I.Z,{sx:{width:"20px",height:"20px"}})}),children:(0,G.jsx)(P.Z,{onClick:function(){return o()},children:(0,G.jsx)(E.Z,{primary:"View ForeCast"})})}),(0,G.jsx)(T.ZP,{disablePadding:!0,secondaryAction:(0,G.jsx)(x.Z,{edge:"end","aria-label":"forward",onClick:function(){return r()},children:(0,G.jsx)(I.Z,{sx:{width:"20px",height:"20px"}})}),children:(0,G.jsx)(P.Z,{onClick:function(){return r()},children:(0,G.jsx)(E.Z,{primary:"View Sub-Assembly"})})})]})}),placement:"top",children:n})},N=i(1204),D=i(460),H=i(9201),M=(0,H.Z)((0,G.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft"),L=(0,H.Z)((0,G.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");function J(e,n,i){return n[i]<e[i]?-1:n[i]>e[i]?1:0}function Q(e,n){return"desc"===e?function(e,i){return J(e,i,n)}:function(e,i){return-J(e,i,n)}}function q(e,n){var i=e.map((function(e,n){return[e,n]}));return i.sort((function(e,i){var t=n(e[0],i[0]);return 0!==t?t:e[1]-i[1]})),i.map((function(e){return e[0]}))}var K=[{id:"parent_item",label:"Finished Good"},{id:"Quantity_yet_to_make",label:"Qty to build"},{id:"ctb",label:"CTB"}];function V(e){var n=e.order,i=e.orderBy,t=e.onRequestSort;return(0,G.jsx)(C.Z,{sx:{fontWeight:"600"},children:(0,G.jsx)(S.Z,{children:K.map((function(e){return(0,G.jsx)(b.Z,{sortDirection:i===e.id&&n,align:"left",sx:{fontWeight:"600",fontSize:"13px",padding:"5px"},children:(0,G.jsx)(c.Z,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(o=e.id,function(e){t(e,o)}),children:e.label})},e.id);var o}))})})}var Y=function(){var e,n=(0,_.useContext)(N.f),i=n.filterState,c=n.setFilterState,B=(0,A.k6)(),R=(0,_.useState)([]),T=(0,r.Z)(R,2),P=T[0],E=T[1],I=(0,_.useState)([]),H=(0,r.Z)(I,2),J=H[0],K=H[1],Y=(0,_.useState)("desc"),O=(0,r.Z)(Y,2),U=O[0],X=O[1],$=(0,_.useState)("ctb"),ee=(0,r.Z)($,2),ne=ee[0],ie=ee[1],te=(0,_.useState)(!1),oe=(0,r.Z)(te,2),re=oe[0],le=oe[1],de=(0,_.useState)(""),se=(0,r.Z)(de,2),ae=se[0],ce=se[1];(0,_.useEffect)((function(){""===(null===i||void 0===i?void 0:i.selectedFG)&&B.push("/summary"),k.Z.post("".concat(z.J).concat(null===i||void 0===i?void 0:i.location,"/summarypage/All"),{productCode:null===i||void 0===i?void 0:i.productCode}).then((function(e){E(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log(e)}))}),[null===i||void 0===i?void 0:i.location,null===i||void 0===i?void 0:i.productCode]);var xe=(0,_.useState)(0),ue=(0,r.Z)(xe,2),pe=ue[0],he=ue[1];(0,_.useEffect)((function(){le(!0),K([]),""===(null===i||void 0===i?void 0:i.selectedFG)&&B.push("/summary"),k.Z.post("".concat(z.J).concat(null===i||void 0===i?void 0:i.location,"/scenerioplanner"),{Parentitem:String(null===i||void 0===i?void 0:i.selectedFG),productCode:null===i||void 0===i?void 0:i.productCode}).then((function(e){K(e.data),le(!1)})).catch((function(e){console.log(e),K([]),le(!1)}))}),[null===i||void 0===i?void 0:i.selectedFG,null===i||void 0===i?void 0:i.location,null===i||void 0===i?void 0:i.productCode]);var fe=J.filter((function(e){return null===e||void 0===e?void 0:e.item.match(new RegExp(ae,"i"))}));(0,_.useEffect)((function(){""!==i.itemToScroll&&(console.log(i.itemToScroll),ce(i.itemToScroll))}),[]),(0,_.useEffect)((function(){var e=setTimeout((function(){c((0,o.Z)((0,o.Z)({},i),{},{itemToScroll:""}))}),4e3);return function(){return clearTimeout(e)}}),[]);var ve=(0,_.useState)([]),ge=(0,r.Z)(ve,2),je=ge[0],me=ge[1],Ze=(0,_.useState)([]),be=(0,r.Z)(Ze,2),ye=be[0],Ce=be[1];(0,_.useEffect)((function(){me([]),me(J.filter((function(e){return(null===e||void 0===e?void 0:e.deficient_flag)&&!(null!==e&&void 0!==e&&e.resolved_flag)})))}),[J]),(0,_.useEffect)((function(){Ce([]),Ce(J.filter((function(e){return(null===e||void 0===e?void 0:e.entanglment_flag)&&!(null!==e&&void 0!==e&&e.resolved_flag)})))}),[J]);var Se=_.useState(!1),we=(0,r.Z)(Se,2),ke=we[0],_e=we[1],Ae=(0,_.useState)("asc"),Fe=(0,r.Z)(Ae,2),ze=Fe[0],Be=Fe[1];null===J||void 0===J||J.map((function(e,n){return(0,G.jsx)(F.Z,{partDetails:e,setAllParts:K,allParts:J},null===e||void 0===e?void 0:e.item)}));return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#fff",position:"fixed",top:64,left:65,right:0,zIndex:"9",padding:"15px 20px"},children:[(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,G.jsx)(x.Z,{onClick:function(){return B.push("/")},sx:{marginRight:"10px",backgroundColor:"#185abc11"},children:(0,G.jsx)(l.Z,{style:{fontSize:"1.2rem",fontWeight:"600",cursor:"pointer",color:"#0077B6"}})}),(0,G.jsxs)(u.Z,{component:"div",sx:{color:"#0077B6",fontWeight:"600"},children:[(0,G.jsx)("span",{style:{fontSize:"22px"},children:"Scenario Planner"}),(0,G.jsxs)("span",{style:{fontSize:"16px"},children:[" ","/ ",null===i||void 0===i?void 0:i.selectedFG," (",null===J||void 0===J?void 0:J.length,")"]})]}),(0,G.jsxs)("div",{style:{fontSize:"12px",marginLeft:"10px",fontWeight:"600",marginTop:"5px"},children:["Filter:"," ",null!==i&&void 0!==i&&i.filterName?null===i||void 0===i?void 0:i.filterName:"Custom"]})]}),(0,G.jsxs)("div",{children:["asc"===ze&&(0,G.jsxs)(p.Z,{onClick:function(){!function(){var e=(0,t.Z)(J).sort((function(e,n){return parseInt(n.allocated_item_ctb)-parseInt(e.allocated_item_ctb)}));K(e)}(),Be("desc")},sx:{p:"3px 6px",backgroundColor:"#fff",color:"#0077B6",borderRadius:"25px",border:"1px solid #0077B6",cursor:"pointer",fontSize:"15px",display:"flex",gap:"6px",alignItems:"center"},children:["Allocated CTB ",(0,G.jsx)(s.Z,{sx:{fontSize:"18px"}})]}),"desc"===ze&&(0,G.jsxs)(p.Z,{onClick:function(){!function(){var e=(0,t.Z)(J).sort((function(e,n){return parseInt(e.allocated_item_ctb)-parseInt(n.allocated_item_ctb)}));K(e)}(),Be("asc")},sx:{p:"3px 6px",backgroundColor:"#fff",color:"#0077B6",borderRadius:"25px",border:"1px solid #0077B6",cursor:"pointer",fontSize:"15px",display:"flex",gap:"10px",alignItems:"center"},children:["Allocated CTB ",(0,G.jsx)(d.Z,{sx:{fontSize:"18px"}})]})]}),(0,G.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:(0,G.jsxs)(h.Z,{direction:"row",spacing:1,children:[(0,G.jsx)(p.Z,{sx:{p:"5px 12px",backgroundColor:"#EA4335",color:"#fff",borderRadius:"25px",boxShadow:"none"},children:"Deficient"}),(0,G.jsx)(p.Z,{sx:{p:"5px 12px",backgroundColor:"#EA8600",color:"#fff",borderRadius:"25px",boxShadow:"none"},children:"Entangled"}),(0,G.jsx)(p.Z,{sx:{p:"5px 12px",backgroundColor:"#34A853",color:"#fff",borderRadius:"25px",boxShadow:"none"},children:"Resolved"}),(0,G.jsx)(f.Z,{onClick:function(){return _e(!0)},variant:"contained",sx:{textTransform:"none",p:"2px 12px",backgroundColor:"#0077B6",color:"#fff"},children:"Submit Scenario"}),(0,G.jsx)(v.Z,{open:ke,onClose:function(){return _e(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,G.jsxs)(w,{sx:{position:"absolute",top:"20%",left:"50%",transform:"translate(-50%, -50%)",width:430,bgcolor:"#fff",border:"none",boxShadow:"0px 3px 25px #00000080",borderRadius:"5px",padding:"20px",display:"flex",flexDirection:"column"},children:[(0,G.jsx)("div",{style:{fontSize:"16px",fontWeight:"600"},children:"Are you sure, you want to submit scenario?"}),(0,G.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"30px",marginTop:"30px"},children:[(0,G.jsx)(f.Z,{onClick:function(){return _e(!1)},variant:"outlined",sx:{textTransform:"none",p:"3px 40px",backgroundColor:"#fff",border:"1px solid #0077B6",color:"#0077B6"},children:"No"}),(0,G.jsx)(f.Z,{onClick:function(){k.Z.post("".concat(z.J).concat(null===i||void 0===i?void 0:i.location,"/save-snap/").concat(i.username),{FGs:i.FGs}).then((function(e){console.log(e.data),"Scenario Saved"!==e.data?alert(e.data):(c((0,o.Z)((0,o.Z)({},i),{},{FGs:[]})),B.push("/summary"))})).catch((function(e){console.log(e),alert(e.message)}))},variant:"contained",sx:{textTransform:"none",p:"3px 40px",backgroundColor:"#0077B6",color:"#fff"},children:"Yes"})]})]})})]})})]}),(0,G.jsxs)("div",{style:{display:"flex"},children:[(0,G.jsx)("div",{style:{flex:2.3,marginRight:"30px",height:"calc(100vh - 180px)"},children:(0,G.jsx)("div",{style:{position:"fixed"},children:(0,G.jsxs)(h.Z,{spacing:1.5,children:[(0,G.jsx)(p.Z,{sx:{width:"100%",height:"auto",overflow:"hidden",boxShadow:"none",border:"1px solid #0077b688",borderRadius:"5px"},children:(0,G.jsxs)(y.Z,{sx:{maxHeight:"180px"},children:[(0,G.jsxs)(m.Z,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[(0,G.jsx)(V,{order:U,orderBy:ne,onRequestSort:function(e,n){X(ne===n&&"asc"===U?"desc":"asc"),ie(n)}}),(0,G.jsx)(Z.Z,{children:q(P,Q(U,ne)).map((function(e,n){return(0,G.jsxs)(S.Z,{onClick:function(){var n;n=null===e||void 0===e?void 0:e.parent_item,c((0,o.Z)((0,o.Z)({},i),{},{selectedFG:n})),he(0)},sx:{backgroundColor:"".concat((null===e||void 0===e?void 0:e.parent_item)===(null===i||void 0===i?void 0:i.selectedFG)?"#0077B6":"inherit"),cursor:"pointer","&:last-child td, &:last-child th":{border:0}},children:[(0,G.jsx)(b.Z,{sx:{padding:"5px",color:"".concat(e.parent_item===(null===i||void 0===i?void 0:i.selectedFG)?"#fff":"inherit")},align:"left",width:"150px",children:(0,G.jsx)(D.Z,{data:null===e||void 0===e?void 0:e.description,children:(0,G.jsx)("span",{children:null===e||void 0===e?void 0:e.parent_item})})}),(0,G.jsx)(b.Z,{sx:{padding:"5px",color:"".concat((null===e||void 0===e?void 0:e.parent_item)===(null===i||void 0===i?void 0:i.selectedFG)?"#fff":"inherit")},align:"center",children:null===e||void 0===e?void 0:e.Quantity_yet_to_make}),(0,G.jsx)(b.Z,{sx:{padding:"5px",color:"".concat((null===e||void 0===e?void 0:e.parent_item)===(null===i||void 0===i?void 0:i.selectedFG)?"#fff":"inherit")},align:"center",children:null===e||void 0===e?void 0:e.ctb})]},n)}))})]}),0===(null===P||void 0===P?void 0:P.length)&&(0,G.jsxs)(h.Z,{spacing:1,sx:{margin:"10px"},children:[(0,G.jsx)(g.Z,{variant:"rounded",width:"inherit",height:20}),(0,G.jsx)(g.Z,{variant:"rounded",width:"inherit",height:20}),(0,G.jsx)(g.Z,{variant:"rounded",width:"inherit",height:20}),(0,G.jsx)(g.Z,{variant:"rounded",width:"inherit",height:20})]})]})}),(0,G.jsx)(p.Z,{sx:{width:"100%",height:"auto",overflow:"hidden",boxShadow:"none",border:"1px solid #EA433588",borderRadius:"5px"},children:(0,G.jsx)(y.Z,{sx:{maxHeight:"180px"},children:(0,G.jsxs)(m.Z,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[(0,G.jsx)(C.Z,{children:(0,G.jsxs)(S.Z,{children:[(0,G.jsx)(b.Z,{sx:{fontWeight:"600"},children:"Deficient Parts"}),(0,G.jsx)(b.Z,{sx:{fontWeight:"600"},align:"right",children:null===je||void 0===je?void 0:je.length})]})}),(0,G.jsx)(Z.Z,{children:null===je||void 0===je?void 0:je.map((function(e,n){return(0,G.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,G.jsx)(W,{data:null===e||void 0===e?void 0:e.item,children:(0,G.jsx)(b.Z,{className:"hover-underline-cursor",component:"th",scope:"row",children:null===e||void 0===e?void 0:e.item})}),(0,G.jsx)(b.Z,{})]},n)}))})]})})}),(0,G.jsx)(p.Z,{sx:{width:"100%",height:"auto",overflow:"hidden",boxShadow:"none",border:"1px solid #EA433588",borderRadius:"5px"},children:(0,G.jsx)(y.Z,{sx:{maxHeight:"180px"},children:(0,G.jsxs)(m.Z,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[(0,G.jsx)(C.Z,{children:(0,G.jsxs)(S.Z,{children:[(0,G.jsxs)(b.Z,{sx:{fontWeight:"600"},children:["Entangled Parts"," "]}),(0,G.jsx)(b.Z,{sx:{fontWeight:"600"},align:"right",children:null===ye||void 0===ye?void 0:ye.length})]})}),(0,G.jsx)(Z.Z,{children:ye.map((function(e,n){return(0,G.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,G.jsx)(W,{data:null===e||void 0===e?void 0:e.item,children:(0,G.jsx)(b.Z,{className:"hover-underline-cursor",component:"th",scope:"row",children:null===e||void 0===e?void 0:e.item})}),(0,G.jsx)(b.Z,{})]},n)}))})]})})})]})})}),(0,G.jsxs)("div",{id:"partpreview",style:{flex:6.5,marginBottom:"20px",maxHeight:"calc(100vh - 180px)",overflowY:"scroll"},children:[""!==ae&&(0,G.jsx)(x.Z,{onClick:function(){return ce("")},type:"button",sx:{p:"0px",m:"10px",border:"2px solid #0077B6",borderRadius:"5px"},"aria-label":"search",children:(0,G.jsx)(a.Z,{sx:{color:"#0077B6"}})}),(0,G.jsx)(h.Z,{spacing:3,children:re?(0,G.jsx)(G.Fragment,{children:re&&(0,G.jsx)("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",height:"200px"},children:(0,G.jsx)(j.Z,{size:"100px",sx:{color:"#185ABC"}})})}):(0,G.jsx)(G.Fragment,{children:0===J.length?(0,G.jsx)("div",{style:{color:"#EA4335",fontSize:"15px",fontWeight:"600",padding:"20px",backgroundColor:"#fff",textAlign:"center",marginTop:"30px",borderRadius:"10px",margin:"20px"},children:'"Difficient and entangled parts are not available'}):(0,G.jsxs)(G.Fragment,{children:[null===fe||void 0===fe||null===(e=fe.slice(10*pe,10*pe+10))||void 0===e?void 0:e.map((function(e,n){return(0,G.jsx)(F.Z,{partDetails:e,setAllParts:K,allParts:fe},null===e||void 0===e?void 0:e.item)})),0===fe.length&&(0,G.jsxs)("div",{style:{color:"#EA4335",fontSize:"15px",fontWeight:"600",padding:"20px",backgroundColor:"#fff",textAlign:"center",marginTop:"30px",borderRadius:"10px",margin:"20px"},children:["There is no any parts present matching with"," ",ae]})]})})}),fe.length>11&&(0,G.jsxs)(w,{sx:{display:"flex",minWidth:"300px",alignItems:"center",justifyContent:"center",marginTop:"5px"},children:[(0,G.jsxs)(x.Z,{onClick:function(){return he(pe-1)},disabled:0===pe,"aria-label":"previous page",children:[(0,G.jsx)(u.Z,{children:"Previous"}),(0,G.jsx)(M,{})]}),(0,G.jsxs)(u.Z,{children:["Page No: ",pe+1]}),(0,G.jsxs)(x.Z,{onClick:function(){return he(pe+1)},"aria-label":"next page",disabled:fe.length<11||pe>Math.floor(fe.length/10)-1,children:[(0,G.jsx)(L,{}),(0,G.jsx)(u.Z,{children:"Next"})]})]})]})]})]})}},3385:function(e,n,i){var t=i(4836);n.Z=void 0;var o=t(i(5649)),r=i(184),l=(0,o.default)((0,r.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=l},5130:function(e,n,i){var t=i(4836);n.Z=void 0;var o=t(i(5649)),r=i(184),l=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");n.Z=l}}]);
//# sourceMappingURL=801.b92871d8.chunk.js.map