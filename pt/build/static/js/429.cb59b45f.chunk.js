"use strict";(self.webpackChunkpt_frontend=self.webpackChunkpt_frontend||[]).push([[429],{460:function(e,n,i){var o=i(4942),t=i(1413),l=i(5987),d=(i(2791),i(7630)),r=i(1838),a=i(9293),s=i(184),c=["className"],x=(0,d.ZP)((function(e){var n=e.className,i=(0,l.Z)(e,c);return(0,s.jsx)(r.Z,(0,t.Z)((0,t.Z)({},i),{},{classes:{popper:n}}))}))((function(e){e.theme;return(0,o.Z)({},"& .".concat(a.Z.tooltip),{backgroundColor:"transparent",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 3px 6px #0000001F",zIndex:"1"})}));n.Z=function(e){var n=e.children,i=e.data;return(0,s.jsx)(x,{title:(0,s.jsx)("div",{style:{backgroundColor:"#fff",color:"#000",margin:"-5px -8px",boxShadow:"none",borderRadius:"5px",fontWeight:"600",padding:"0px 5px"},children:i}),placement:"right",children:n})}},8429:function(e,n,i){i.r(n);var o=i(1413),t=i(885),l=i(1703),d=i(720),r=i(890),a=i(1918),s=i(6151),c=i(4082),x=i(8870),u=i(3239),p=i(6812),f=i(3400),v=i(4834),h=i(5527),g=i(9836),m=i(3382),Z=i(3994),b=i(9281),j=i(6890),y=i(5855),C=i(3263),S=i(2791),F=i(9271),E=i(8239),W=i(3786),w=i(8096),k=i(9321),P=i(1204),z=i(460),B=i(184);function R(e,n,i){return n[i]<e[i]?-1:n[i]>e[i]?1:0}function _(e,n){return"desc"===e?function(e,i){return R(e,i,n)}:function(e,i){return-R(e,i,n)}}function N(e,n){var i=e.map((function(e,n){return[e,n]}));return i.sort((function(e,i){var o=n(e[0],i[0]);return 0!==o?o:e[1]-i[1]})),i.map((function(e){return e[0]}))}var I=[{id:"parent_item",label:"Finished Good"},{id:"total_order_quantity",label:"Total Customer Orders"},{id:"Quantity_yet_to_make",label:"Quantity to build"},{id:"ctb",label:"CTB"},{id:"potential_ctb",label:"Potential Max CTB"},{id:"deficient",label:"Deficient Parts"},{id:"entaglement",label:"Entangled Parts"}];function T(e){var n=e.order,i=e.orderBy,o=e.onRequestSort;return(0,B.jsx)(j.Z,{sx:{fontWeight:"600"},children:(0,B.jsx)(y.Z,{children:I.map((function(e){return(0,B.jsx)(Z.Z,{sortDirection:i===e.id&&n,align:"center",sx:{color:"#404040",fontFamily:"Montserrat, sans-serif",fontWeight:"600",fontSize:"12px",padding:"8px",borderRight:"1px solid #9F9F9F",backgroundColor:"#E5F1F8","&:last-child td, &:last-child th":{borderRight:0}},children:(0,B.jsx)(d.Z,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(t=e.id,function(e){o(e,t)}),children:e.label})},e.id);var t}))})})}n.default=function(){var e,n=(0,S.useContext)(P.f),i=n.filterState,d=n.setFilterState,j=(0,S.useState)("desc"),R=(0,t.Z)(j,2),I=R[0],A=R[1],L=(0,F.k6)(),D=(0,S.useState)(""),G=(0,t.Z)(D,2),q=G[0],H=G[1],J=(0,S.useState)([]),O=(0,t.Z)(J,2),M=O[0],Q=O[1],Y=(0,S.useState)("idle"),V=(0,t.Z)(Y,2),K=V[0],U=V[1];(0,S.useEffect)((function(){U("loading"),Q([]),C.Z.post("".concat(E.J).concat(null===i||void 0===i?void 0:i.location,"/summarypage/").concat(null===i||void 0===i?void 0:i.dateRange),{productCode:null===i||void 0===i?void 0:i.productCode}).then((function(e){Q(null===e||void 0===e?void 0:e.data),U("success")})).catch((function(e){console.log(e),U("error"),Q([])}))}),[null===i||void 0===i?void 0:i.dateRange,null===i||void 0===i?void 0:i.location,null===i||void 0===i?void 0:i.productCode]);var X=M.filter((function(e){return null===e||void 0===e?void 0:e.parent_item.match(new RegExp(q,"i"))})),$=(0,S.useState)([]),ee=(0,t.Z)($,2),ne=ee[0],ie=ee[1];(0,S.useEffect)((function(){ie([]),C.Z.get("".concat(E.J).concat(null===i||void 0===i?void 0:i.location,"/get-productCode")).then((function(e){ie(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log(e)}))}),[null===i||void 0===i?void 0:i.location]);var oe=(0,S.useState)([]),te=(0,t.Z)(oe,2),le=te[0],de=te[1],re=function(){de([]),C.Z.get("".concat(E.J).concat(null===i||void 0===i?void 0:i.location,"/get-filter/").concat(i.username)).then((function(e){de(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log(e)}))};(0,S.useEffect)((function(){re()}),[null===i||void 0===i?void 0:i.location]);var ae=(0,S.useState)([]),se=(0,t.Z)(ae,2),ce=se[0],xe=se[1];(0,S.useEffect)((function(){xe(null===i||void 0===i?void 0:i.productCode)}),[null===i||void 0===i?void 0:i.filterName]);var ue=(0,S.useState)(!1),pe=(0,t.Z)(ue,2),fe=pe[0],ve=pe[1],he=(0,S.useState)(""),ge=(0,t.Z)(he,2),me=ge[0],Ze=ge[1];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",backgroundColor:"#fff",position:"fixed",top:64,left:65,right:0,zIndex:"9",padding:"15px 20px"},children:[(0,B.jsx)("div",{style:{flex:5},children:(0,B.jsx)(r.Z,{component:"div",sx:{flexGrow:1,fontSize:"25px",color:"#0077B6",fontWeight:"600"},children:"Summary"})}),(0,B.jsx)("div",{style:{flex:3,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"20px"},children:(0,B.jsxs)(h.Z,{sx:{p:"1px 2px",display:"flex",alignItems:"center",width:250,border:"1px solid #E4E4E4",boxShadow:"none"},children:[(0,B.jsx)(v.ZP,{sx:{ml:1,flex:1},placeholder:"Search Finish Goods",inputProps:{"aria-label":"search Finish Goods"},onFocus:function(){d((0,o.Z)((0,o.Z)({},i),{},{page:0}))},value:q,onChange:function(e){return H(e.target.value)}}),(0,B.jsx)(f.Z,{type:"button",sx:{p:"5px"},"aria-label":"search",children:(0,B.jsx)(l.Z,{})})]})})]}),(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,B.jsx)("div",{style:{fontWeight:"600",fontSize:"18px"},children:"Total Customer Orders for Next"}),(0,B.jsx)(w.Z,{sx:{mx:1,minWidth:60},size:"small",children:(0,B.jsxs)(k.Z,{labelId:"demo-select-small",id:"demo-select-small",value:null===i||void 0===i?void 0:i.dateRange,onChange:function(e){d((0,o.Z)((0,o.Z)({},i),{},{dateRange:e.target.value}))},sx:{fontWeight:"600",fontSize:"16px",height:"30px",backgroundColor:"#fff"},children:[(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"18px"},value:15,children:"15"}),(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"18px"},value:30,children:"30"}),(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"18px"},value:60,children:"60"}),(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"18px"},value:90,children:"90"}),(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"18px"},value:"All",children:"All"})]})}),(0,B.jsxs)("div",{style:{fontWeight:"600",fontSize:"18px"},children:["All"===(null===i||void 0===i?void 0:i.dateRange)?"Work Order":"Days"," "]})]}),(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:"5px"},children:[(0,B.jsx)("div",{style:{fontWeight:"600",fontSize:"18px"},children:"and for Product(s)"}),(0,B.jsx)(w.Z,{sx:{ml:1,maxWidth:240},size:"small",children:(0,B.jsx)(k.Z,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:ce,onClose:function(){return e=ce,void d((0,o.Z)((0,o.Z)({},i),{},{productCode:e}));var e},onChange:function(e){var n=e.target.value;xe("string"===typeof n?n.split(","):n)},MenuProps:{PaperProps:{style:{maxHeight:300,overflowY:(null===ne||void 0===ne?void 0:ne.length)>10?"scroll":"hidden"}}},sx:{display:"flex",backgroundColor:"#fff",alignItems:"center",padding:"3px 0px",maxHeight:(null===ce||void 0===ce?void 0:ce.length)>1?"52px":"32px","& ::-webkit-scrollbar":{width:"5px",borderRadius:"5px"},"& ::-webkit-scrollbar-track":{backgroundColor:"#f2f2f2"}},renderValue:function(e){return(0,B.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",maxHeight:"45px",overflowY:(null===ce||void 0===ce?void 0:ce.length)>1?"scroll":"hidden"},children:e.map((function(e){return(0,B.jsx)(a.Z,{sx:{fontWeight:"600",fontSize:"10px",padding:"0px",height:"20px"},size:"small",label:e},e)}))})},children:ne.map((function(e){return(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"12px"},value:e,children:e},e)}))})})]}),(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",flexGrow:1,gap:"20px"},children:[(0,B.jsx)(s.Z,{onClick:function(){return ve(!0)},variant:"contained",sx:{textTransform:"none",p:"2px 15px",backgroundColor:"#0077B6",color:"#fff"},children:"Save Filter"}),(0,B.jsx)(c.Z,{open:fe,onClose:function(){return ve(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,B.jsxs)(x.Z,{sx:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"#fff",border:"none",boxShadow:"0px 3px 25px #00000080",borderRadius:"5px",padding:"20px",display:"flex",flexDirection:"column",gap:"10px"},children:[(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,B.jsx)("div",{style:{fontSize:"18px",fontWeight:"500",flex:1},children:"Filter Name"}),(0,B.jsxs)("div",{style:{display:"flex",flex:2,justifyContent:"center",flexDirection:"column"},children:[(0,B.jsx)(h.Z,{sx:{p:"1px 2px",width:250,border:"1px solid #E4E4E4",boxShadow:"none"},children:(0,B.jsx)(v.ZP,{sx:{ml:1,flex:1},placeholder:"Filter Name",name:"FilterName",value:me,onChange:function(e){return Ze(e.target.value)}})}),""===me&&(0,B.jsx)("div",{style:{color:"red"},children:"filter name is required"})]})]}),(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"30px",marginTop:"20px"},children:[(0,B.jsx)(s.Z,{onClick:function(){return ve(!1)},variant:"contained",sx:{textTransform:"none",p:"3px 40px",backgroundColor:"#9F9F9F",color:"#fff"},children:"Cancel"}),(0,B.jsx)(s.Z,{onClick:function(){ve(!1),C.Z.post("".concat(E.J).concat(null===i||void 0===i?void 0:i.location,"/save-filter/").concat(i.username),{productCode:null===i||void 0===i?void 0:i.productCode,days:null===i||void 0===i?void 0:i.dateRange,filterName:me}).then((function(e){console.log(e.data),Ze(""),re()})).catch((function(e){console.log(e)}))},variant:"contained",disabled:""===me,sx:{textTransform:"none",p:"3px 40px",backgroundColor:"#0077B6",color:"#fff"},children:"Save"})]})]})}),(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,B.jsx)("div",{style:{fontWeight:"600",fontSize:"15px"},children:"Saved Filters"}),(0,B.jsx)(w.Z,{sx:{mx:1,minWidth:120},size:"small",children:(0,B.jsx)(k.Z,{labelId:"demo-select-small",id:"demo-select-small",value:null===i||void 0===i?void 0:i.filterName,onChange:function(e){!function(e){var n,t,l;d((0,o.Z)((0,o.Z)({},i),{},{filterName:null===(n=le.find((function(n){return n.filterName===e})))||void 0===n?void 0:n.filterName,productCode:null===(t=le.find((function(n){return n.filterName===e})))||void 0===t?void 0:t.productCode,dateRange:null===(l=le.find((function(n){return n.filterName===e})))||void 0===l?void 0:l.days}))}(e.target.value)},sx:{fontWeight:"600",fontSize:"16px",height:"30px",backgroundColor:"#fff"},children:le.map((function(e){return(0,B.jsx)(W.Z,{sx:{fontWeight:"600",fontSize:"15px"},value:null===e||void 0===e?void 0:e.filterName,children:null===e||void 0===e?void 0:e.filterName},null===e||void 0===e?void 0:e.filterName)}))})})]})]})]}),(0,B.jsx)("div",{children:(0,B.jsxs)(h.Z,{sx:{width:"100%",overflow:"hidden",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 5px",borderRadius:"5px"},children:[(0,B.jsxs)(b.Z,{sx:{maxHeight:450},children:[(0,B.jsxs)(g.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,B.jsx)(T,{order:I,orderBy:null===i||void 0===i?void 0:i.orderBy,onRequestSort:function(e,n){var t=(null===i||void 0===i?void 0:i.orderBy)===n&&"asc"===I;A(t?"desc":"asc"),d((0,o.Z)((0,o.Z)({},i),{},{orderBy:n}))}}),(0,B.jsx)(m.Z,{children:N(X,_(I,null===i||void 0===i?void 0:i.orderBy)).slice((null===i||void 0===i?void 0:i.page)*(null===i||void 0===i?void 0:i.rowsPerPage),(null===i||void 0===i?void 0:i.page)*(null===i||void 0===i?void 0:i.rowsPerPage)+(null===i||void 0===i?void 0:i.rowsPerPage)).map((function(e,n){return(0,B.jsxs)(y.Z,{hover:!0,children:[(0,B.jsx)(Z.Z,{align:"center",onClick:function(){return n=null===e||void 0===e?void 0:e.parent_item,d((0,o.Z)((0,o.Z)({},i),{},{selectedFG:n})),void L.push("/scenario-planner");var n},sx:{minWidth:"200px",borderBottom:"1px solid #E4E4E4",padding:"8px",fontSize:"15px",fontWeight:"600",letterSpacing:"1px",color:"#0077B6",textDecoration:"underline",cursor:"pointer"},children:(0,B.jsx)(z.Z,{data:null===e||void 0===e?void 0:e.description,children:(0,B.jsx)("span",{children:null===e||void 0===e?void 0:e.parent_item})})}),(0,B.jsx)(Z.Z,{align:"center",sx:{borderLeft:"1px solid #9F9F9F",borderBottom:"1px solid #E4E4E4",padding:"8px",minWidth:"150px"},children:null===e||void 0===e?void 0:e.total_order_quantity}),(0,B.jsx)(Z.Z,{align:"center",sx:{borderLeft:"1px solid #9F9F9F",borderBottom:"1px solid #E4E4E4",padding:"8px",minWidth:"150px"},children:null===e||void 0===e?void 0:e.Quantity_yet_to_make}),(0,B.jsx)(Z.Z,{align:"center",sx:{borderLeft:"1px solid #9F9F9F",borderBottom:"1px solid #E4E4E4",padding:"8px",minWidth:"150px"},children:null===e||void 0===e?void 0:e.ctb}),(0,B.jsx)(Z.Z,{align:"center",sx:{borderLeft:"1px solid #9F9F9F",borderBottom:"1px solid #E4E4E4",padding:"8px",minWidth:"150px"},children:null===e||void 0===e?void 0:e.potential_ctb}),(0,B.jsx)(Z.Z,{align:"center",sx:{borderLeft:"1px solid #9F9F9F",borderBottom:"1px solid #E4E4E4",padding:"8px",minWidth:"150px"},children:null===e||void 0===e?void 0:e.deficient}),(0,B.jsx)(Z.Z,{align:"center",sx:{borderLeft:"1px solid #9F9F9F",borderBottom:"1px solid #E4E4E4",padding:"8px",minWidth:"150px"},children:null===e||void 0===e?void 0:e.entaglement})]},null===e||void 0===e?void 0:e.parent_item)}))})]}),"loading"===K&&(0,B.jsx)("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",height:"200px"},children:(0,B.jsx)(u.Z,{size:"100px",sx:{color:"#185ABC"}})}),0===(null===M||void 0===M?void 0:M.length)&&"success"===K&&(0,B.jsxs)("div",{style:{color:"#EA4335",fontSize:"15px",fontWeight:"600",padding:"20px",backgroundColor:"#fff",textAlign:"center",marginTop:"30px",borderRadius:"10px",margin:"20px"},children:["Finished goods not found for ",null===i||void 0===i?void 0:i.dateRange," ","All"===(null===i||void 0===i?void 0:i.dateRange)?"work order":"days time period"," ","and for product/(s) ",null===i||void 0===i||null===(e=i.productCode)||void 0===e?void 0:e.join(", ")]})]}),(0,B.jsx)(p.Z,{rowsPerPageOptions:[5,10,25,50,100],component:"div",labelRowsPerPage:"Finish goods per page",count:X.length,rowsPerPage:null===i||void 0===i?void 0:i.rowsPerPage,page:null===i||void 0===i?void 0:i.page,onPageChange:function(e,n){d((0,o.Z)((0,o.Z)({},i),{},{page:n}))},onRowsPerPageChange:function(e){d((0,o.Z)((0,o.Z)({},i),{},{rowsPerPage:+e.target.value,page:0}))}})]})})]})}}}]);
//# sourceMappingURL=429.cb59b45f.chunk.js.map